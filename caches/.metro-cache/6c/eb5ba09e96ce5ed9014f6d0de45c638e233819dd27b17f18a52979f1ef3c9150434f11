{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.generateJobsheet = exports.formatJobsheetText = exports.formatCurrency = void 0;\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('uz-UZ', {\n      style: 'currency',\n      currency: 'UZS',\n      minimumFractionDigits: 0\n    }).format(amount || 0);\n  };\n  exports.formatCurrency = formatCurrency;\n  const generateJobsheet = (debtorInfo, visitStartTime, outcome, customerContacted, paymentAmount, nextAction, notes, location, capturedPhoto) => {\n    const visitDuration = Math.round((new Date() - visitStartTime) / (1000 * 60)); // minutes\n\n    return {\n      visitDate: new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      }),\n      debtor: debtorInfo,\n      officer: 'Field Officer',\n      // This should come from auth context\n      visitDuration: `${visitDuration} minutes`,\n      outcome,\n      customerContacted,\n      paymentReceived: paymentAmount ? parseFloat(paymentAmount) : 0,\n      nextAction,\n      remarks: notes,\n      location: location ? {\n        lat: location.latitude.toFixed(6),\n        lng: location.longitude.toFixed(6)\n      } : null,\n      photoTaken: !!capturedPhoto\n    };\n  };\n  exports.generateJobsheet = generateJobsheet;\n  const formatJobsheetText = (jobsheet, formatCurrency) => {\n    return `\nFIELD VISIT REPORT\n==================\n\nDate: ${jobsheet.visitDate}\nOfficer: ${jobsheet.officer}\nDuration: ${jobsheet.visitDuration}\n\nDEBTOR INFORMATION:\n------------------\nName: ${jobsheet.debtor.name}\nPINFL: ${jobsheet.debtor.pinfl}\nAddress: ${jobsheet.debtor.address}\nPhone: ${jobsheet.debtor.phone}\nTotal Debt: ${formatCurrency(jobsheet.debtor.totalAmount)}\nRemaining: ${formatCurrency(jobsheet.debtor.remainingAmount)}\n\nVISIT DETAILS:\n--------------\nOutcome: ${jobsheet.outcome || 'Not specified'}\nCustomer Contacted: ${jobsheet.customerContacted ? 'Yes' : 'No'}\nPayment Received: ${formatCurrency(jobsheet.paymentReceived)}\nPhoto Evidence: ${jobsheet.photoTaken ? 'Yes' : 'No'}\n\nNEXT ACTIONS:\n-------------\n${jobsheet.nextAction || 'None specified'}\n\nREMARKS:\n--------\n${jobsheet.remarks || 'No additional remarks'}\n\nLOCATION:\n---------\n${jobsheet.location ? `Lat: ${jobsheet.location.lat}, Lng: ${jobsheet.location.lng}` : 'Location not captured'}\n\nGenerated by CollPro Field App\n  `;\n  };\n  exports.formatJobsheetText = formatJobsheetText;\n});","lineCount":83,"map":[[6,2,1,7],[6,8,1,13,"formatCurrency"],[6,22,1,27],[6,25,1,31,"amount"],[6,31,1,37],[6,35,1,42],[7,4,2,2],[7,11,2,9],[7,15,2,13,"Intl"],[7,19,2,17],[7,20,2,18,"NumberFormat"],[7,32,2,30],[7,33,2,31],[7,40,2,38],[7,42,2,40],[8,6,3,4,"style"],[8,11,3,9],[8,13,3,11],[8,23,3,21],[9,6,4,4,"currency"],[9,14,4,12],[9,16,4,14],[9,21,4,19],[10,6,5,4,"minimumFractionDigits"],[10,27,5,25],[10,29,5,27],[11,4,6,2],[11,5,6,3],[11,6,6,4],[11,7,6,5,"format"],[11,13,6,11],[11,14,6,12,"amount"],[11,20,6,18],[11,24,6,22],[11,25,6,23],[11,26,6,24],[12,2,7,0],[12,3,7,1],[13,2,7,2,"exports"],[13,9,7,2],[13,10,7,2,"formatCurrency"],[13,24,7,2],[13,27,7,2,"formatCurrency"],[13,41,7,2],[14,2,9,7],[14,8,9,13,"generateJobsheet"],[14,24,9,29],[14,27,9,32,"generateJobsheet"],[14,28,10,2,"debtorInfo"],[14,38,10,12],[14,40,11,2,"visitStartTime"],[14,54,11,16],[14,56,12,2,"outcome"],[14,63,12,9],[14,65,13,2,"customerContacted"],[14,82,13,19],[14,84,14,2,"paymentAmount"],[14,97,14,15],[14,99,15,2,"nextAction"],[14,109,15,12],[14,111,16,2,"notes"],[14,116,16,7],[14,118,17,2,"location"],[14,126,17,10],[14,128,18,2,"capturedPhoto"],[14,141,18,15],[14,146,19,5],[15,4,20,2],[15,10,20,8,"visitDuration"],[15,23,20,21],[15,26,20,24,"Math"],[15,30,20,28],[15,31,20,29,"round"],[15,36,20,34],[15,37,20,35],[15,38,20,36],[15,42,20,40,"Date"],[15,46,20,44],[15,47,20,45],[15,48,20,46],[15,51,20,49,"visitStartTime"],[15,65,20,63],[15,70,20,68],[15,74,20,72],[15,77,20,75],[15,79,20,77],[15,80,20,78],[15,81,20,79],[15,82,20,80],[15,83,20,81],[17,4,22,2],[17,11,22,9],[18,6,23,4,"visitDate"],[18,15,23,13],[18,17,23,15],[18,21,23,19,"Date"],[18,25,23,23],[18,26,23,24],[18,27,23,25],[18,28,23,26,"toLocaleDateString"],[18,46,23,44],[18,47,23,45],[18,54,23,52],[18,56,23,54],[19,8,24,6,"year"],[19,12,24,10],[19,14,24,12],[19,23,24,21],[20,8,25,6,"month"],[20,13,25,11],[20,15,25,13],[20,21,25,19],[21,8,26,6,"day"],[21,11,26,9],[21,13,26,11],[21,22,26,20],[22,8,27,6,"hour"],[22,12,27,10],[22,14,27,12],[22,23,27,21],[23,8,28,6,"minute"],[23,14,28,12],[23,16,28,14],[24,6,29,4],[24,7,29,5],[24,8,29,6],[25,6,30,4,"debtor"],[25,12,30,10],[25,14,30,12,"debtorInfo"],[25,24,30,22],[26,6,31,4,"officer"],[26,13,31,11],[26,15,31,13],[26,30,31,28],[27,6,31,30],[28,6,32,4,"visitDuration"],[28,19,32,17],[28,21,32,19],[28,24,32,22,"visitDuration"],[28,37,32,35],[28,47,32,45],[29,6,33,4,"outcome"],[29,13,33,11],[30,6,34,4,"customerContacted"],[30,23,34,21],[31,6,35,4,"paymentReceived"],[31,21,35,19],[31,23,35,21,"paymentAmount"],[31,36,35,34],[31,39,35,37,"parseFloat"],[31,49,35,47],[31,50,35,48,"paymentAmount"],[31,63,35,61],[31,64,35,62],[31,67,35,65],[31,68,35,66],[32,6,36,4,"nextAction"],[32,16,36,14],[33,6,37,4,"remarks"],[33,13,37,11],[33,15,37,13,"notes"],[33,20,37,18],[34,6,38,4,"location"],[34,14,38,12],[34,16,38,14,"location"],[34,24,38,22],[34,27,39,8],[35,8,40,10,"lat"],[35,11,40,13],[35,13,40,15,"location"],[35,21,40,23],[35,22,40,24,"latitude"],[35,30,40,32],[35,31,40,33,"toFixed"],[35,38,40,40],[35,39,40,41],[35,40,40,42],[35,41,40,43],[36,8,41,10,"lng"],[36,11,41,13],[36,13,41,15,"location"],[36,21,41,23],[36,22,41,24,"longitude"],[36,31,41,33],[36,32,41,34,"toFixed"],[36,39,41,41],[36,40,41,42],[36,41,41,43],[37,6,42,8],[37,7,42,9],[37,10,43,8],[37,14,43,12],[38,6,44,4,"photoTaken"],[38,16,44,14],[38,18,44,16],[38,19,44,17],[38,20,44,18,"capturedPhoto"],[39,4,45,2],[39,5,45,3],[40,2,46,0],[40,3,46,1],[41,2,46,2,"exports"],[41,9,46,2],[41,10,46,2,"generateJobsheet"],[41,26,46,2],[41,29,46,2,"generateJobsheet"],[41,45,46,2],[42,2,48,7],[42,8,48,13,"formatJobsheetText"],[42,26,48,31],[42,29,48,34,"formatJobsheetText"],[42,30,48,35,"jobsheet"],[42,38,48,43],[42,40,48,45,"formatCurrency"],[42,54,48,59],[42,59,48,64],[43,4,49,2],[43,11,49,9],[44,0,50,0],[45,0,51,0],[46,0,52,0],[47,0,53,0],[47,8,53,8,"jobsheet"],[47,16,53,16],[47,17,53,17,"visitDate"],[47,26,53,26],[48,0,54,0],[48,11,54,11,"jobsheet"],[48,19,54,19],[48,20,54,20,"officer"],[48,27,54,27],[49,0,55,0],[49,12,55,12,"jobsheet"],[49,20,55,20],[49,21,55,21,"visitDuration"],[49,34,55,34],[50,0,56,0],[51,0,57,0],[52,0,58,0],[53,0,59,0],[53,8,59,8,"jobsheet"],[53,16,59,16],[53,17,59,17,"debtor"],[53,23,59,23],[53,24,59,24,"name"],[53,28,59,28],[54,0,60,0],[54,9,60,9,"jobsheet"],[54,17,60,17],[54,18,60,18,"debtor"],[54,24,60,24],[54,25,60,25,"pinfl"],[54,30,60,30],[55,0,61,0],[55,11,61,11,"jobsheet"],[55,19,61,19],[55,20,61,20,"debtor"],[55,26,61,26],[55,27,61,27,"address"],[55,34,61,34],[56,0,62,0],[56,9,62,9,"jobsheet"],[56,17,62,17],[56,18,62,18,"debtor"],[56,24,62,24],[56,25,62,25,"phone"],[56,30,62,30],[57,0,63,0],[57,14,63,14,"formatCurrency"],[57,28,63,28],[57,29,63,29,"jobsheet"],[57,37,63,37],[57,38,63,38,"debtor"],[57,44,63,44],[57,45,63,45,"totalAmount"],[57,56,63,56],[57,57,63,57],[58,0,64,0],[58,13,64,13,"formatCurrency"],[58,27,64,27],[58,28,64,28,"jobsheet"],[58,36,64,36],[58,37,64,37,"debtor"],[58,43,64,43],[58,44,64,44,"remainingAmount"],[58,59,64,59],[58,60,64,60],[59,0,65,0],[60,0,66,0],[61,0,67,0],[62,0,68,0],[62,11,68,11,"jobsheet"],[62,19,68,19],[62,20,68,20,"outcome"],[62,27,68,27],[62,31,68,31],[62,46,68,46],[63,0,69,0],[63,22,69,22,"jobsheet"],[63,30,69,30],[63,31,69,31,"customerContacted"],[63,48,69,48],[63,51,69,51],[63,56,69,56],[63,59,69,59],[63,63,69,63],[64,0,70,0],[64,20,70,20,"formatCurrency"],[64,34,70,34],[64,35,70,35,"jobsheet"],[64,43,70,43],[64,44,70,44,"paymentReceived"],[64,59,70,59],[64,60,70,60],[65,0,71,0],[65,18,71,18,"jobsheet"],[65,26,71,26],[65,27,71,27,"photoTaken"],[65,37,71,37],[65,40,71,40],[65,45,71,45],[65,48,71,48],[65,52,71,52],[66,0,72,0],[67,0,73,0],[68,0,74,0],[69,0,75,0],[69,2,75,2,"jobsheet"],[69,10,75,10],[69,11,75,11,"nextAction"],[69,21,75,21],[69,25,75,25],[69,41,75,41],[70,0,76,0],[71,0,77,0],[72,0,78,0],[73,0,79,0],[73,2,79,2,"jobsheet"],[73,10,79,10],[73,11,79,11,"remarks"],[73,18,79,18],[73,22,79,22],[73,45,79,45],[74,0,80,0],[75,0,81,0],[76,0,82,0],[77,0,83,0],[77,2,83,2,"jobsheet"],[77,10,83,10],[77,11,83,11,"location"],[77,19,83,19],[77,22,83,22],[77,30,83,30,"jobsheet"],[77,38,83,38],[77,39,83,39,"location"],[77,47,83,47],[77,48,83,48,"lat"],[77,51,83,51],[77,61,83,61,"jobsheet"],[77,69,83,69],[77,70,83,70,"location"],[77,78,83,78],[77,79,83,79,"lng"],[77,82,83,82],[77,84,83,84],[77,87,83,87],[77,110,83,110],[78,0,84,0],[79,0,85,0],[80,0,86,0],[80,3,86,3],[81,2,87,0],[81,3,87,1],[82,2,87,2,"exports"],[82,9,87,2],[82,10,87,2,"formatJobsheetText"],[82,28,87,2],[82,31,87,2,"formatJobsheetText"],[82,49,87,2],[83,0,87,2],[83,3]],"functionMap":{"names":["<global>","formatCurrency","generateJobsheet","formatJobsheetText"],"mappings":"AAA,8BC;CDM;gCEE;CFqC;kCGE;CHuC"}},"type":"js/module"}]}